fn range(a : int, b : int, yield : fn(int, fn())) -> void {
    let mut i: int = a;
    while (i < b)
        yield(i++, || { continue; });
}

fn main(i: int) -> int {
    let mut res = 0;
    @range(0, 3, |i: int| -> void {
        $range(0, 3, |i: int| -> void {
            res += i;
        });
    });

    return res;
}
